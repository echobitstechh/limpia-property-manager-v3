<div class="flex min-h-screen item-center">
  <div class="flex w-full justify-between items-center">
    <!-- Left Section -->
    <div class="h-[] bg-gradient-to-r from-[#DADADA] to-[#9B9B9B] w-[55%] xl:block hidden">
      <div class=" signup-image">
        <h2 class="font-Inter text-5xl py-5 pl-8 font-semibold mb-4 w-[592px] text-[#232321]">
          Shop With Easy Power Hub today
        </h2>
        <!-- <img src="assets/images/women.svg" alt="Easy Power Hub" class="" /> -->
      </div>
    </div>

    <!-- Right Section -->
    <div class="flex justify-center xl:w-[42%] w-full">
      <div class="bg-white p-10 w-[400px]">
        <h2 class="text-4xl font-Inter font-medium text-nowrap mb-6">
          Create an account
        </h2>
        <p class="font-Poppins mb-7">Enter your details below</p>
        <div *ngIf="signupMessage" class="mt-2 alert alert-{{ signupMessageType }}" role="alert">
          {{ signupMessage }}
        </div>
        <form [formGroup]="signupForm">
          <!-- Email Field -->
          <div *ngIf="!otpSent">
            <input class="shadow-md bg-white rounded-xl w-full py-2 px-3 mb-4 focus:outline-none" type="text"
              placeholder="Email" formControlName="email" />
            <div *ngIf="email.invalid && email.touched" class="text-red-500 text-sm mb-4">
              <div *ngIf="email.errors?.['required']">Email is required.</div>
              <div *ngIf="email.errors?.['invalidEmail']">
                Invalid email format.
              </div>
            </div>
            <div class="flex justify-between">
              <app-button-with-loader [buttonType]="'submit'" [classText]="'btn btn-custom block w-[] flex-1 h-10'"
                [idleStateText]="'Get Verification Code'" [isProcessing]="loading"
                [workingStateText]="'Sending Code...'" (buttonClick)="sendCode()"></app-button-with-loader>
              <button class="size-10 flex items-center justify-center border border-black rounded-lg">
                <img src="assets/icons/google.svg" alt="" />
              </button>
            </div>
            <p class="font-Poppins font-normal text-[#000000] flex gap-4 mt-4 justify-center">
              Already have an account?
              <a class="border-b-2 font-medium text-inherit hover:text-inherit" aria-current="page" routerLink="/login"
                routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                Log in
              </a>
            </p>
          </div>

          <!-- OTP Field -->
          <div *ngIf="otpSent && !otpConfirmed">
            <input class="shadow-md bg-white rounded-xl w-full py-2 px-3 mb-4 focus:outline-none" type="text"
              placeholder="Enter OTP" formControlName="otp" />
            <div *ngIf="otp.invalid && otp.touched" class="text-red-500 text-sm mb-4">
              <div *ngIf="otp.errors?.['required']">OTP is required.</div>
            </div>
            <div class="flex justify-between items-center">
              <a (click)="goBackToEmail()" class="cursor-pointer" style="text-wrap: nowrap;">
                Change email
              </a>
              <app-button-with-loader [buttonType]="'submit'" [classText]="'btn btn-custom block w-full '"
                [idleStateText]="'Confirm OTP'" [isProcessing]="loading" [workingStateText]="'Confirming...'"
                (buttonClick)="confirmOtp()"></app-button-with-loader>
            </div>
          </div>

          <!-- Other Fields -->
          <div *ngIf="otpConfirmed">
            <div class="">
              <input class="shadow-md bg-white rounded-xl w-full py-3 px-4 text-gray-700 focus:outline-none" type="text"
                placeholder="First Name" formControlName="firstName" />
              <div *ngIf="firstName.invalid && firstName.touched" class="text-red-500 text-sm">
                <div *ngIf="firstName.errors?.['required']">
                  First Name is required.
                </div>
                <div *ngIf="firstName.errors?.['minlength']">
                  First Name must be at least 3 characters long.
                </div>
              </div>
            </div>

            <div class="mt-4">
              <input class="shadow-md bg-white rounded-xl w-full py-2 px-3 text-gray-700 focus:outline-none" type="text"
                placeholder="Last Name" formControlName="lastName" />
              <div *ngIf="lastName.invalid && lastName.touched" class="text-red-500 text-sm">
                <div *ngIf="lastName.errors?.['required']">
                  Last Name is required.
                </div>
                <div *ngIf="lastName.errors?.['minlength']">
                  Last Name must be at least 3 characters long.
                </div>
              </div>
            </div>

            <div class="mt-4">
              <input class="shadow-md bg-white rounded-xl w-full py-2 px-3 text-gray-700 focus:outline-none"
                type="password" placeholder="Password" formControlName="password" />
              <div *ngIf="password.invalid && password.touched" class="text-red-500 text-sm">
                <div *ngIf="password.errors?.['required']">
                  Password is required.
                </div>
                <div *ngIf="password.errors?.['minlength']">
                  Password must be at least 6 characters long.
                </div>
              </div>
            </div>

            <div class="mt-4 flex flex-col gap-10">
              <app-button-with-loader [buttonType]="'submit'" [classText]="'btn btn-custom block w-full '"
                [idleStateText]="'Create Account'" [isProcessing]="loading" [workingStateText]="'Creating Account...'"
                (buttonClick)="onSubmit()"></app-button-with-loader>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>